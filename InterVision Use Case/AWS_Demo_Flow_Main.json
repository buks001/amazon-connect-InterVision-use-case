{"modules":[{"id":"ebd339f6-200a-4fe8-a908-1c28065f0fc7","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"61ab10b4-68f4-44be-8d14-e79f0065494a"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":32,"y":141}}},{"id":"61ab10b4-68f4-44be-8d14-e79f0065494a","type":"SetVoice","branches":[{"condition":"Success","transition":"70538fa0-484a-46ed-81c9-a824db174604"}],"parameters":[{"name":"GlobalVoice","value":"Matthew"}],"metadata":{"position":{"x":32,"y":311}}},{"id":"70538fa0-484a-46ed-81c9-a824db174604","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"97899112-7fca-4583-9757-6368b1760472"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Enable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":32,"y":481}}},{"id":"8dcdf65d-5dd2-4306-9706-b3dbc18fbf5c","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4babe0ff-c3c7-4386-88b6-45835f2c29c3"}],"parameters":[{"name":"Text","value":"Looks like Lambda ran in to an error, let's continue anyways.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":283,"y":308},"useDynamic":false}},{"id":"97899112-7fca-4583-9757-6368b1760472","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"9b39ed66-4008-4891-b646-bc62acbaf22a"},{"condition":"Error","transition":"8dcdf65d-5dd2-4306-9706-b3dbc18fbf5c"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:613787477748:function:connectDemo2"},{"name":"TimeLimit","value":"8"}],"metadata":{"position":{"x":31,"y":651},"dynamicMetadata":{}},"target":"Lambda"},{"id":"61b7e8e0-ce29-4598-a764-e2ac8ec5a19b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"968c3934-31e0-455b-8532-b25d0d5f6296"}],"parameters":[{"name":"Text","value":"Welcome back! The last time you called was $.External.lastCalledDate","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":560,"y":664},"useDynamic":false}},{"id":"3224c680-ea74-4e33-945a-5fb520177f4e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"968c3934-31e0-455b-8532-b25d0d5f6296"}],"parameters":[{"name":"Text","value":"Looks like this is your first time calling!","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":556,"y":512},"useDynamic":false}},{"id":"968c3934-31e0-455b-8532-b25d0d5f6296","type":"SetAttributes","branches":[{"condition":"Success","transition":"0cbd4659-3b49-4953-bc17-05cc557168d4"},{"condition":"Error","transition":"0cbd4659-3b49-4953-bc17-05cc557168d4"}],"parameters":[{"name":"Attribute","value":"http://www.whitepages.com/phone/$.CustomerEndpoint.Address","key":"screenpopUrl","namespace":null},{"name":"Attribute","value":"Dialed Number","key":"DNIS","namespace":"System"},{"name":"Attribute","value":"firstName","key":"firstName","namespace":"External"},{"name":"Attribute","value":"lastName","key":"lastName","namespace":"External"}],"metadata":{"position":{"x":788,"y":586}}},{"id":"0cbd4659-3b49-4953-bc17-05cc557168d4","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1027,"y":519}}},{"id":"4dae28e7-3ff9-4a5b-9f20-7523158d8208","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4babe0ff-c3c7-4386-88b6-45835f2c29c3"}],"parameters":[{"name":"Text","value":"I couldn't find your phone number in our records, I've added it to our database for future reference.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":510,"y":308},"useDynamic":false}},{"id":"4babe0ff-c3c7-4386-88b6-45835f2c29c3","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"3224c680-ea74-4e33-945a-5fb520177f4e"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"false","transition":"61b7e8e0-ce29-4598-a764-e2ac8ec5a19b"},{"condition":"NoMatch","transition":"968c3934-31e0-455b-8532-b25d0d5f6296"}],"parameters":[{"name":"Attribute","value":"firstCall"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":303,"y":519},"conditionMetadata":[{"id":"6ac9e53d-72f4-47c2-9fcf-10c12e25eeb5","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"},{"id":"cc67156c-2f40-4d35-9e70-b3724356cb90","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"false"}]}},{"id":"9b39ed66-4008-4891-b646-bc62acbaf22a","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"5764f7c7-2d3b-4e20-b5f0-449a7e30d1f0"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"false","transition":"4dae28e7-3ff9-4a5b-9f20-7523158d8208"},{"condition":"NoMatch","transition":"8dcdf65d-5dd2-4306-9706-b3dbc18fbf5c"}],"parameters":[{"name":"Attribute","value":"phoneNumberFound"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":284,"y":58},"conditionMetadata":[{"id":"ade3a9cf-9618-40d4-9fb5-001cef64ea55","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"},{"id":"4fddd3c4-c967-4526-978a-4909963e1ee4","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"false"}]}},{"id":"5764f7c7-2d3b-4e20-b5f0-449a7e30d1f0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4babe0ff-c3c7-4386-88b6-45835f2c29c3"}],"parameters":[{"name":"Text","value":"Hi $.External.firstName $.External.lastName!","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":731,"y":309},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"ebd339f6-200a-4fe8-a908-1c28065f0fc7","metadata":{"entryPointPosition":{"x":32,"y":4},"snapToGrid":false,"name":"AWS_Demo_Flow_Main","description":null,"type":"contactFlow","status":"published","hash":"f3a95db016a6c442ac05620b5fa2633cbdc36c75a23a7ae8e73757e0eb1ced47"}}